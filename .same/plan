# ğŸ’° FinTrace - Complete Project Plan

> **App Name:** FinTrace
> **Domain:** fintrace.in
> **Tagline:** "Track Every Rupee, Grow Every Day"
> **Version:** 2.0
> **Last Updated:** February 6, 2026
> **Status:** Planning Phase - Ready for Development

---

## ğŸ“‹ Table of Contents

1. [Project Overview](#-project-overview)
2. [New Features (v2.0)](#-new-features-v20)
3. [Tech Stack](#-tech-stack)
4. [System Architecture](#-system-architecture)
5. [Design System](#-design-system)
6. [Database Schema](#-database-schema)
7. [API Architecture](#-api-architecture)
8. [Screen Designs](#-screen-designs)
9. [Bank Integration Methods](#-bank-integration-methods)
10. [Development Phases](#-development-phases)
11. [Phase-wise Todo List](#-phase-wise-todo-list)
12. [Deployment Guide](#-deployment-guide)

---

## ğŸ¯ Project Overview

### App Identity

| Attribute | Value |
|-----------|-------|
| **App Name** | FinTrace |
| **Domain** | fintrace.in |
| **Tagline** | "Track Every Rupee, Grow Every Day" |
| **Primary Platform** | iOS (PWA) |
| **Secondary Platforms** | Android (PWA), Web Dashboard |
| **Primary Currency** | â‚¹ INR |
| **Multi-Currency** | Yes (USD, EUR, GBP, AED, SGD, etc.) |
| **Language** | English (Hindi planned) |
| **Design Style** | iOS Native-like, Clean, Minimal |
| **Offline Support** | Full offline-first with sync |
| **Hosting** | Self-hosted on Ubuntu |
| **Multi-User** | Yes (Family accounts) |
| **Authentication** | Email/Password + Biometric + PIN |

### Core Value Propositions

1. **Unified Financial View** - All accounts, loans, investments in one place
2. **Smart Import** - Auto-fetch bank statements via Account Aggregator
3. **Intelligent Categorization** - AI-powered auto-categorization
4. **Loan Management** - Complete EMI tracking with calculators
5. **Family Finance** - Shared budgets, expense splitting, family dashboard
6. **AI Insights** - Personalized saving recommendations & spending analysis
7. **Investment Tracking** - Mutual funds, stocks, FDs, gold tracking
8. **Voice Entry** - Add expenses using voice commands
9. **Receipt OCR** - Scan receipts to auto-extract transaction details
10. **Privacy First** - Self-hosted, your data stays with you
11. **India-Tailored** - UPI, IFSC, GST, 80C tracking, Indian banks

---

## ğŸ†• New Features (v2.0)

### 1. Multi-User & Family Tracking

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FAMILY STRUCTURE                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚   Family    â”‚ (Shared entity)                       â”‚
â”‚   â”‚  "Sharma's" â”‚                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚          â”‚                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚              â”‚                  â”‚                   â”‚
â”‚   â–¼              â–¼                  â–¼                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚Adminâ”‚      â”‚Memberâ”‚          â”‚Memberâ”‚                â”‚
â”‚ â”‚(Dad)â”‚      â”‚(Mom) â”‚          â”‚(Son) â”‚                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                         â”‚
â”‚ Features:                                               â”‚
â”‚ â”œâ”€â”€ Shared family budgets                               â”‚
â”‚ â”œâ”€â”€ Individual + Family accounts                        â”‚
â”‚ â”œâ”€â”€ Expense splitting                                   â”‚
â”‚ â”œâ”€â”€ Family dashboard                                    â”‚
â”‚ â”œâ”€â”€ Role-based permissions                              â”‚
â”‚ â”œâ”€â”€ Activity feed                                       â”‚
â”‚ â””â”€â”€ Family goals                                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- **Family Creation** - Create family group, invite members
- **Role-Based Access** - Admin, Member, View-Only roles
- **Shared Accounts** - Joint accounts visible to all
- **Personal Accounts** - Private accounts only you can see
- **Family Budget** - Combined household budget tracking
- **Expense Splitting** - Split bills among family members
- **Family Dashboard** - See combined family finances
- **Activity Feed** - Who added what, recent changes
- **Family Goals** - Save together for family vacation, etc.
- **Allowance Tracking** - Track kids' pocket money

### 2. Self-Hosted Ubuntu Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SELF-HOSTED ARCHITECTURE                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   Ubuntu Server (20.04/22.04 LTS)                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                 â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚   â”‚  â”‚   Nginx     â”‚  â”‚  Certbot    â”‚              â”‚   â”‚
â”‚   â”‚  â”‚  (Reverse   â”‚  â”‚  (SSL/TLS)  â”‚              â”‚   â”‚
â”‚   â”‚  â”‚   Proxy)    â”‚  â”‚             â”‚              â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚   â”‚         â”‚                                       â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚   â”‚  â”‚           Docker Compose            â”‚       â”‚   â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚   â”‚
â”‚   â”‚  â”‚  â”‚Frontend â”‚ â”‚ Backend â”‚ â”‚ Redis â”‚ â”‚       â”‚   â”‚
â”‚   â”‚  â”‚  â”‚  (PWA)  â”‚ â”‚(Fastify)â”‚ â”‚       â”‚ â”‚       â”‚   â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚   â”‚
â”‚   â”‚  â”‚                   â”‚                 â”‚       â”‚   â”‚
â”‚   â”‚  â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”‚       â”‚   â”‚
â”‚   â”‚  â”‚            â”‚ PostgreSQL  â”‚          â”‚       â”‚   â”‚
â”‚   â”‚  â”‚            â”‚   + MinIO   â”‚          â”‚       â”‚   â”‚
â”‚   â”‚  â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚       â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚   â”‚                                                 â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚   Requirements:                                         â”‚
â”‚   â”œâ”€â”€ Ubuntu 20.04/22.04 LTS                            â”‚
â”‚   â”œâ”€â”€ 2GB+ RAM (4GB recommended)                        â”‚
â”‚   â”œâ”€â”€ 20GB+ Storage                                     â”‚
â”‚   â”œâ”€â”€ Docker & Docker Compose                           â”‚
â”‚   â””â”€â”€ Domain with SSL (Let's Encrypt)                   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Deployment Features:**
- **One-Command Install** - `curl -sSL https://fintrace.in/install.sh | bash`
- **Docker Compose** - All services containerized
- **Automatic Backups** - Daily PostgreSQL backups
- **SSL/TLS** - Free Let's Encrypt certificates
- **Reverse Proxy** - Nginx for performance
- **Update Script** - Easy version updates
- **Health Monitoring** - Built-in health checks

### 3. Biometric Authentication

```
Authentication Flow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚   App Launch                                            â”‚
â”‚       â”‚                                                 â”‚
â”‚       â–¼                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ Biometric Check â”‚â—„â”€â”€â”€â”€ Face ID / Touch ID /        â”‚
â”‚   â”‚    Enabled?     â”‚      Fingerprint                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚     â”‚ Yes         â”‚ No                                  â”‚
â”‚     â–¼             â–¼                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚ â”‚ Show      â”‚  â”‚ Show PIN  â”‚                           â”‚
â”‚ â”‚ Biometric â”‚  â”‚  Entry    â”‚                           â”‚
â”‚ â”‚  Prompt   â”‚  â”‚  Screen   â”‚                           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚       â”‚              â”‚                                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚              â–¼                                          â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚       â”‚  Verified?  â”‚                                   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚              â”‚                                          â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚       â”‚ Yes         â”‚ No                                â”‚
â”‚       â–¼             â–¼                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚ Enter â”‚    â”‚ 3 Failed â”‚â”€â”€â–º Lock Account            â”‚
â”‚   â”‚  App  â”‚    â”‚ Attempts â”‚    (30 min cooldown)       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- **Face ID** (iOS) - Native Face ID support
- **Touch ID** (iOS) - Fingerprint authentication
- **Fingerprint** (Android) - Android biometric API
- **PIN Fallback** - 4-6 digit PIN as backup
- **Auto-Lock** - Lock after X minutes of inactivity
- **Secure Enclave** - Keys stored in device secure storage
- **Quick Unlock** - For returning within 1 minute

### 4. AI Insights & Recommendations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI INSIGHTS ENGINE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   Data Sources                    AI Processing         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚Transactions â”‚â”€â”€â”                                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚                 â”‚        â”‚
â”‚   â”‚  Budgets    â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  ML Models      â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  (On-device /   â”‚        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚   Server)       â”‚        â”‚
â”‚   â”‚   Goals     â”‚â”€â”€â”¤         â”‚                 â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                  â”‚                 â”‚
â”‚   â”‚   Loans     â”‚â”€â”€â”˜                  â–¼                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                             â”‚    Insights     â”‚         â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                      â”‚                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                                  â”‚             â”‚    â”‚
â”‚   â–¼                  â–¼               â–¼             â–¼    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Spendâ”‚         â”‚Savings â”‚    â”‚Anomaly   â”‚  â”‚Forecastâ”‚ â”‚
â”‚ â”‚Alertsâ”‚        â”‚Tips    â”‚    â”‚Detection â”‚  â”‚        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**AI Features:**
- **Spending Patterns** - "You spend 40% more on weekends"
- **Savings Opportunities** - "Switch to annual Spotify, save â‚¹600"
- **Bill Predictions** - "Your electricity bill is usually â‚¹2,500"
- **Anomaly Detection** - "Unusual â‚¹15,000 spend at electronics"
- **Budget Recommendations** - "Based on income, allocate â‚¹8,000 for food"
- **Goal Achievability** - "At current rate, you'll reach goal in 8 months"
- **Loan Insights** - "Prepay â‚¹50,000 to save â‚¹32,000 interest"
- **Category Trends** - "Food spending up 25% vs last month"
- **Merchant Analysis** - "You visit Swiggy 12 times/month"
- **Cash Flow Forecast** - "You might be short â‚¹5,000 by month end"

**Implementation:**
- TensorFlow.js for on-device ML
- OpenAI/Gemini API for advanced insights (optional)
- Rule-based engine for basic patterns
- Privacy-first: All processing can be local

### 5. Investment Tracking

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  INVESTMENT PORTFOLIO                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   Total Invested: â‚¹12,50,000                           â”‚
â”‚   Current Value:  â‚¹14,32,500  (+â‚¹1,82,500 / +14.6%)    â”‚
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              PORTFOLIO BREAKDOWN                 â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â”‚   Mutual Funds  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  52%           â”‚   â”‚
â”‚   â”‚   Stocks        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         28%            â”‚   â”‚
â”‚   â”‚   Fixed Deposit â–ˆâ–ˆâ–ˆâ–ˆ             12%            â”‚   â”‚
â”‚   â”‚   Gold          â–ˆâ–ˆ               6%             â”‚   â”‚
â”‚   â”‚   PPF           â–ˆ                2%             â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚   HOLDINGS                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ğŸ“ˆ Mutual Funds                      â‚¹6,50,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ Axis Bluechip Fund            â‚¹2,50,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ Parag Parikh Flexi Cap        â‚¹2,00,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ HDFC Index Nifty 50           â‚¹1,50,000  â”‚   â”‚
â”‚   â”‚    â””â”€â”€ Mirae Asset Large Cap         â‚¹50,000    â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â”‚ ğŸ“Š Stocks                            â‚¹3,50,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ Reliance Industries (50 qty)  â‚¹1,20,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ HDFC Bank (30 qty)            â‚¹48,000    â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ Infosys (25 qty)              â‚¹45,000    â”‚   â”‚
â”‚   â”‚    â””â”€â”€ + 5 more stocks               â‚¹1,37,000  â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â”‚ ğŸ¦ Fixed Deposits                    â‚¹1,50,000  â”‚   â”‚
â”‚   â”‚    â”œâ”€â”€ SBI FD (7.1%, Mar 2025)       â‚¹1,00,000  â”‚   â”‚
â”‚   â”‚    â””â”€â”€ HDFC FD (7.25%, Jun 2025)     â‚¹50,000    â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â”‚ ğŸ¥‡ Gold                              â‚¹75,000    â”‚   â”‚
â”‚   â”‚    â””â”€â”€ Sovereign Gold Bond           â‚¹75,000    â”‚   â”‚
â”‚   â”‚                                                  â”‚   â”‚
â”‚   â”‚ ğŸ›ï¸ PPF                               â‚¹25,000    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Supported Investments:**
| Type | Features |
|------|----------|
| **Mutual Funds** | NAV tracking, SIP tracking, XIRR returns, fund comparison |
| **Stocks** | Live prices, P&L, dividend tracking, portfolio analysis |
| **Fixed Deposits** | Maturity tracking, interest calculation, renewal alerts |
| **PPF/EPF** | Yearly contribution tracking, maturity projection |
| **NPS** | Tier 1 & 2 tracking, tax benefits |
| **Gold** | SGB, Digital Gold, Physical gold valuation |
| **Real Estate** | Property valuation, rental income |
| **Crypto** | Bitcoin, Ethereum (optional, user preference) |

**Data Sources:**
- **MF API** - mfapi.in (free mutual fund NAV)
- **Stock API** - NSE/BSE data via Yahoo Finance
- **Gold Prices** - Live gold rate API
- **Manual Entry** - For FDs, PPF, property

### 6. Voice Entry

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VOICE ENTRY FLOW                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   User speaks:                                          â”‚
â”‚   ğŸ¤ "Add 500 rupees for lunch at Swiggy"              â”‚
â”‚                                                         â”‚
â”‚           â”‚                                             â”‚
â”‚           â–¼                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ Speech-to-Text    â”‚ (Web Speech API /               â”‚
â”‚   â”‚                   â”‚  Whisper API)                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚             â”‚                                           â”‚
â”‚             â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ NLP Processing    â”‚ Extract:                        â”‚
â”‚   â”‚                   â”‚ - Amount: â‚¹500                  â”‚
â”‚   â”‚                   â”‚ - Category: Food & Dining       â”‚
â”‚   â”‚                   â”‚ - Merchant: Swiggy              â”‚
â”‚   â”‚                   â”‚ - Type: Expense                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚             â”‚                                           â”‚
â”‚             â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ Confirmation      â”‚ "Add â‚¹500 expense for          â”‚
â”‚   â”‚ (Visual + Audio)  â”‚  Food at Swiggy?"              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚             â”‚                                           â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚      â”‚             â”‚                                    â”‚
â”‚   â”Œâ”€â”€â–¼â”€â”€â”      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”                               â”‚
â”‚   â”‚ Yes â”‚      â”‚  No   â”‚                               â”‚
â”‚   â”‚ âœ“   â”‚      â”‚ Edit  â”‚                               â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚      â”‚                                                  â”‚
â”‚      â–¼                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ Transaction Saved â”‚ âœ…                              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                         â”‚
â”‚   SUPPORTED COMMANDS:                                   â”‚
â”‚   â”œâ”€â”€ "Add 500 for groceries"                           â”‚
â”‚   â”œâ”€â”€ "Spent 2000 on shopping at Amazon"                â”‚
â”‚   â”œâ”€â”€ "Received 50000 salary"                           â”‚
â”‚   â”œâ”€â”€ "Transfer 5000 to savings"                        â”‚
â”‚   â”œâ”€â”€ "How much did I spend today?"                     â”‚
â”‚   â”œâ”€â”€ "What's my balance?"                              â”‚
â”‚   â””â”€â”€ "Show my expenses this week"                      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Voice Features:**
- **Add Expense** - "Add 200 for coffee"
- **Add Income** - "Received 5000 freelance payment"
- **Transfer** - "Transfer 10000 from HDFC to SBI"
- **Query Balance** - "What's my HDFC balance?"
- **Query Spending** - "How much on food this month?"
- **Quick Commands** - Works even offline (queued)
- **Multi-language** - English + Hindi support

**Implementation:**
- Web Speech API (browser native)
- Whisper API (for accuracy, optional)
- Custom NLP for Indian context (lakh, crore, rupees)

### 7. Receipt OCR

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECEIPT OCR FLOW                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚  ğŸ“· Capture     â”‚  Camera / Gallery                 â”‚
â”‚   â”‚    Receipt      â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚            â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ Image Processingâ”‚  - Crop & Rotate                  â”‚
â”‚   â”‚                 â”‚  - Enhance contrast               â”‚
â”‚   â”‚                 â”‚  - Noise reduction                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚            â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚   OCR Engine    â”‚  Tesseract.js / Google Vision    â”‚
â”‚   â”‚                 â”‚  / AWS Textract                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚            â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚  Data Extractionâ”‚  Extract:                         â”‚
â”‚   â”‚                 â”‚  - Merchant name                  â”‚
â”‚   â”‚                 â”‚  - Date & Time                    â”‚
â”‚   â”‚                 â”‚  - Total amount                   â”‚
â”‚   â”‚                 â”‚  - Items (optional)               â”‚
â”‚   â”‚                 â”‚  - GST number                     â”‚
â”‚   â”‚                 â”‚  - Payment method                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚            â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚  Auto-Fill Form â”‚  Pre-fill transaction            â”‚
â”‚   â”‚                 â”‚  with extracted data              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚            â”‚                                            â”‚
â”‚            â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚   â”‚ User Confirms   â”‚  Review & edit if needed         â”‚
â”‚   â”‚   & Saves       â”‚                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                         â”‚
â”‚   EXTRACTED DATA EXAMPLE:                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Merchant: Big Bazaar                            â”‚   â”‚
â”‚   â”‚ Date: 06-02-2026                                â”‚   â”‚
â”‚   â”‚ Amount: â‚¹2,547.00                               â”‚   â”‚
â”‚   â”‚ GST: 27AABCU9603R1ZM                            â”‚   â”‚
â”‚   â”‚ Category: ğŸ›’ Shopping (auto-detected)           â”‚   â”‚
â”‚   â”‚ Items: 12 items                                 â”‚   â”‚
â”‚   â”‚ Payment: UPI                                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**OCR Features:**
- **Auto-Capture** - Detects receipt edges automatically
- **Multi-Receipt** - Scan multiple receipts in batch
- **Merchant Detection** - Recognizes common Indian merchants
- **GST Extraction** - Pulls GSTIN for tax records
- **Item Parsing** - Optional line-item extraction
- **Receipt Storage** - Attach to transaction for reference
- **Search Receipts** - OCR text is searchable

**Supported Receipt Types:**
- Retail store bills
- Restaurant bills
- Fuel station receipts
- E-commerce invoices (screenshot)
- Utility bills
- Medical bills

### 8. India-Tailored Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  INDIA-SPECIFIC FEATURES                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ ğŸ¦ BANKING                                              â”‚
â”‚ â”œâ”€â”€ UPI Transaction Tracking                            â”‚
â”‚ â”‚   â”œâ”€â”€ Google Pay                                      â”‚
â”‚ â”‚   â”œâ”€â”€ PhonePe                                         â”‚
â”‚ â”‚   â”œâ”€â”€ Paytm                                           â”‚
â”‚ â”‚   â”œâ”€â”€ BHIM                                            â”‚
â”‚ â”‚   â””â”€â”€ Bank UPI apps                                   â”‚
â”‚ â”œâ”€â”€ IFSC Code Lookup                                    â”‚
â”‚ â”œâ”€â”€ All major Indian banks supported                    â”‚
â”‚ â”œâ”€â”€ Account Aggregator (Setu, Finvu)                   â”‚
â”‚ â””â”€â”€ NEFT/RTGS/IMPS categorization                       â”‚
â”‚                                                         â”‚
â”‚ ğŸ’° CURRENCY & FORMAT                                    â”‚
â”‚ â”œâ”€â”€ â‚¹ Indian Rupee as default                           â”‚
â”‚ â”œâ”€â”€ Lakh/Crore formatting (â‚¹1,00,000)                   â”‚
â”‚ â”œâ”€â”€ Indian number system                                â”‚
â”‚ â””â”€â”€ DD-MM-YYYY date format                              â”‚
â”‚                                                         â”‚
â”‚ ğŸ“Š TAX & COMPLIANCE                                     â”‚
â”‚ â”œâ”€â”€ 80C Investment Tracking                             â”‚
â”‚ â”‚   â”œâ”€â”€ PPF contributions                               â”‚
â”‚ â”‚   â”œâ”€â”€ ELSS investments                                â”‚
â”‚ â”‚   â”œâ”€â”€ Life insurance premiums                         â”‚
â”‚ â”‚   â”œâ”€â”€ Home loan principal                             â”‚
â”‚ â”‚   â””â”€â”€ Children's tuition fees                         â”‚
â”‚ â”œâ”€â”€ 80D Health Insurance Tracking                       â”‚
â”‚ â”œâ”€â”€ HRA Calculation Helper                              â”‚
â”‚ â”œâ”€â”€ GST Input Credit Tracking (Business)                â”‚
â”‚ â”œâ”€â”€ TDS Tracking                                        â”‚
â”‚ â””â”€â”€ Tax-Saving Report Generator                         â”‚
â”‚                                                         â”‚
â”‚ ğŸ  LOANS (India-Specific)                               â”‚
â”‚ â”œâ”€â”€ Home Loan (with 80C, 24b tracking)                  â”‚
â”‚ â”œâ”€â”€ Vehicle Loan (Car, Two-wheeler)                     â”‚
â”‚ â”œâ”€â”€ Personal Loan                                       â”‚
â”‚ â”œâ”€â”€ Education Loan (80E benefit)                        â”‚
â”‚ â”œâ”€â”€ Gold Loan                                           â”‚
â”‚ â”œâ”€â”€ LAP (Loan Against Property)                         â”‚
â”‚ â””â”€â”€ Credit Card EMI                                     â”‚
â”‚                                                         â”‚
â”‚ ğŸ“± INTEGRATIONS                                         â”‚
â”‚ â”œâ”€â”€ SMS Transaction Parser                              â”‚
â”‚ â”‚   â”œâ”€â”€ All major Indian banks                          â”‚
â”‚ â”‚   â”œâ”€â”€ UPI transaction SMS                             â”‚
â”‚ â”‚   â””â”€â”€ Credit card alerts                              â”‚
â”‚ â”œâ”€â”€ Email Statement Parser                              â”‚
â”‚ â”‚   â”œâ”€â”€ Bank statement emails                           â”‚
â”‚ â”‚   â””â”€â”€ Credit card statements                          â”‚
â”‚ â””â”€â”€ PDF Statement Parser                                â”‚
â”‚     â”œâ”€â”€ HDFC, ICICI, SBI, Axis                          â”‚
â”‚     â”œâ”€â”€ Kotak, Yes Bank, IDFC                           â”‚
â”‚     â””â”€â”€ All major banks                                 â”‚
â”‚                                                         â”‚
â”‚ ğŸ¯ INDIAN EXPENSE CATEGORIES                            â”‚
â”‚ â”œâ”€â”€ Groceries (Kirana, BigBasket, Zepto)                â”‚
â”‚ â”œâ”€â”€ Domestic Help (Maid, Cook, Driver)                  â”‚
â”‚ â”œâ”€â”€ Society Maintenance                                 â”‚
â”‚ â”œâ”€â”€ Children's Education                                â”‚
â”‚ â”œâ”€â”€ Festival Expenses (Diwali, Holi, etc.)              â”‚
â”‚ â”œâ”€â”€ Gold/Jewelry Purchases                              â”‚
â”‚ â”œâ”€â”€ Religious/Puja Expenses                             â”‚
â”‚ â””â”€â”€ Medical (with 80D tagging)                          â”‚
â”‚                                                         â”‚
â”‚ ğŸ“ˆ INDIAN INVESTMENTS                                   â”‚
â”‚ â”œâ”€â”€ Mutual Funds (with folio tracking)                  â”‚
â”‚ â”œâ”€â”€ Stocks (NSE/BSE)                                    â”‚
â”‚ â”œâ”€â”€ PPF                                                 â”‚
â”‚ â”œâ”€â”€ EPF/VPF                                             â”‚
â”‚ â”œâ”€â”€ NPS                                                 â”‚
â”‚ â”œâ”€â”€ Sukanya Samriddhi                                   â”‚
â”‚ â”œâ”€â”€ Sovereign Gold Bonds                                â”‚
â”‚ â”œâ”€â”€ Fixed Deposits                                      â”‚
â”‚ â”œâ”€â”€ Recurring Deposits                                  â”‚
â”‚ â””â”€â”€ Post Office Schemes                                 â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Tech Stack (Updated)

### Frontend (PWA)

| Technology | Version | Purpose |
|------------|---------|---------|
| React | 18.x | UI Framework |
| TypeScript | 5.x | Type Safety |
| Vite | 5.x | Build Tool |
| Tailwind CSS | 3.x | Styling |
| shadcn/ui | Latest | Base Components (customized) |
| Framer Motion | 11.x | Animations & Gestures |
| Dexie.js | 4.x | IndexedDB (Offline) |
| Recharts | 2.x | Charts & Graphs |
| Workbox | 7.x | Service Worker & PWA |
| React Router | 6.x | Navigation |
| Zustand | 4.x | State Management |
| React Hook Form | 7.x | Form Handling |
| Zod | 3.x | Schema Validation |
| date-fns | 3.x | Date Utilities |
| TanStack Query | 5.x | Server State & Caching |
| **Tesseract.js** | 5.x | **Receipt OCR** |
| **TensorFlow.js** | 4.x | **On-device AI** |
| **Web Speech API** | Native | **Voice Entry** |

### Backend

| Technology | Version | Purpose |
|------------|---------|---------|
| Node.js | 20 LTS | Runtime |
| Fastify | 4.x | API Framework |
| PostgreSQL | 16.x | Primary Database |
| Prisma | 5.x | ORM |
| Redis | 7.x | Caching & Sessions |
| BullMQ | 5.x | Job Queue |
| JWT | - | Access Tokens |
| Argon2 | - | Password Hashing |
| Zod | 3.x | API Validation |
| Pino | - | Logging |
| **MinIO** | Latest | **File Storage (Self-hosted S3)** |
| **Whisper** | - | **Voice Processing (Optional)** |
| **Sharp** | 0.33.x | **Image Processing** |

### External Integrations

| Service | Purpose | Priority |
|---------|---------|----------|
| Setu AA API | Account Aggregator | Phase 7 |
| Finvu API | Account Aggregator (backup) | Phase 7 |
| **mfapi.in** | **Mutual Fund NAV** | Phase 6 |
| **Google Vision API** | **OCR (Optional, better accuracy)** | Phase 6 |
| **OpenAI/Gemini API** | **AI Insights (Optional)** | Phase 8 |
| Firebase FCM | Push Notifications | Phase 8 |
| SendGrid / Resend | Email Notifications | Phase 8 |

### Self-Hosted Stack

| Technology | Purpose |
|------------|---------|
| Docker | Containerization |
| Docker Compose | Service Orchestration |
| Nginx | Reverse Proxy |
| Certbot | SSL/TLS Certificates |
| MinIO | S3-compatible File Storage |
| PostgreSQL | Database |
| Redis | Cache & Sessions |
| Watchtower | Auto-updates (Optional) |

---

## ğŸ—ï¸ System Architecture

### Self-Hosted Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INTERNET                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     UBUNTU SERVER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      NGINX                                  â”‚ â”‚
â”‚  â”‚              (Reverse Proxy + SSL)                          â”‚ â”‚
â”‚  â”‚                   Port 80/443                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   DOCKER NETWORK                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   FRONTEND   â”‚      â”‚   BACKEND    â”‚             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    (React)   â”‚â—„â”€â”€â”€â”€â–ºâ”‚  (Fastify)   â”‚             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   Port 3000  â”‚      â”‚  Port 4000   â”‚             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                               â”‚                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚         â”‚                     â”‚                 â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚         â–¼                     â–¼                 â–¼   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ PostgreSQL â”‚      â”‚    Redis     â”‚   â”‚  MinIO  â”‚â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Port 5432 â”‚      â”‚  Port 6379   â”‚   â”‚Port 9000â”‚â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    VOLUMES (Persistent)                      â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ /data/postgres     (Database files)                    â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ /data/redis        (Cache data)                        â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ /data/minio        (File uploads)                      â”‚ â”‚
â”‚  â”‚  â””â”€â”€ /data/backups      (Daily backups)                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENTS                                  â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  iOS    â”‚    â”‚ Android â”‚    â”‚   Web   â”‚    â”‚ Desktop â”‚    â”‚
â”‚   â”‚  (PWA)  â”‚    â”‚  (PWA)  â”‚    â”‚ Browser â”‚    â”‚  (PWA)  â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Database Schema (Updated)

### New Tables for v2.0 Features

```sql
-- =============================================
-- FAMILY & MULTI-USER
-- =============================================

CREATE TABLE families (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL,
    created_by UUID NOT NULL REFERENCES users(id),
    invite_code VARCHAR(20) UNIQUE,

    settings JSONB DEFAULT '{
        "currency": "INR",
        "shared_budget_enabled": true,
        "activity_feed_enabled": true
    }',

    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE family_members (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    family_id UUID NOT NULL REFERENCES families(id) ON DELETE CASCADE,
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    role VARCHAR(20) DEFAULT 'member',  -- admin, member, viewer
    nickname VARCHAR(50),

    -- Permissions
    can_view_others_transactions BOOLEAN DEFAULT FALSE,
    can_edit_shared_budgets BOOLEAN DEFAULT TRUE,
    can_invite_members BOOLEAN DEFAULT FALSE,

    joined_at TIMESTAMP DEFAULT NOW(),

    UNIQUE(family_id, user_id)
);

CREATE TABLE family_activity (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    family_id UUID NOT NULL REFERENCES families(id) ON DELETE CASCADE,
    user_id UUID NOT NULL REFERENCES users(id),

    action VARCHAR(50) NOT NULL,  -- transaction_added, budget_updated, goal_contributed
    entity_type VARCHAR(50),
    entity_id UUID,

    description TEXT,
    metadata JSONB,

    created_at TIMESTAMP DEFAULT NOW()
);

-- Mark accounts as personal or shared with family
ALTER TABLE accounts ADD COLUMN is_family_shared BOOLEAN DEFAULT FALSE;
ALTER TABLE accounts ADD COLUMN family_id UUID REFERENCES families(id);

-- Mark budgets as family budgets
ALTER TABLE budgets ADD COLUMN is_family_budget BOOLEAN DEFAULT FALSE;
ALTER TABLE budgets ADD COLUMN family_id UUID REFERENCES families(id);

-- Mark goals as family goals
ALTER TABLE goals ADD COLUMN is_family_goal BOOLEAN DEFAULT FALSE;
ALTER TABLE goals ADD COLUMN family_id UUID REFERENCES families(id);

-- =============================================
-- INVESTMENTS
-- =============================================

CREATE TYPE investment_type AS ENUM (
    'mutual_fund',
    'stock',
    'fixed_deposit',
    'recurring_deposit',
    'ppf',
    'epf',
    'nps',
    'gold',
    'real_estate',
    'crypto',
    'other'
);

CREATE TABLE investments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    name VARCHAR(100) NOT NULL,
    type investment_type NOT NULL,

    -- Identifiers
    symbol VARCHAR(50),           -- Stock symbol, MF scheme code
    isin VARCHAR(20),             -- ISIN for stocks/MF
    folio_number VARCHAR(50),     -- For mutual funds

    -- Holdings
    quantity DECIMAL(15, 4),      -- Units/Shares
    avg_buy_price DECIMAL(15, 4),
    current_price DECIMAL(15, 4),

    invested_amount DECIMAL(15, 2) NOT NULL,
    current_value DECIMAL(15, 2),

    -- For FD/RD
    interest_rate DECIMAL(5, 2),
    maturity_date DATE,
    maturity_amount DECIMAL(15, 2),

    -- Metadata
    broker VARCHAR(100),          -- Zerodha, Groww, etc.
    account_number VARCHAR(50),

    is_tax_saving BOOLEAN DEFAULT FALSE,  -- For 80C
    tax_section VARCHAR(10),              -- 80C, 80D, 80E

    last_updated_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE investment_transactions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    investment_id UUID NOT NULL REFERENCES investments(id) ON DELETE CASCADE,

    type VARCHAR(20) NOT NULL,    -- buy, sell, dividend, sip
    date DATE NOT NULL,

    quantity DECIMAL(15, 4),
    price DECIMAL(15, 4),
    amount DECIMAL(15, 2) NOT NULL,

    fees DECIMAL(15, 2) DEFAULT 0,
    taxes DECIMAL(15, 2) DEFAULT 0,

    notes TEXT,

    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_investments_user ON investments(user_id);
CREATE INDEX idx_investment_transactions_investment ON investment_transactions(investment_id);

-- =============================================
-- AI INSIGHTS
-- =============================================

CREATE TABLE insights (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    type VARCHAR(50) NOT NULL,    -- spending_pattern, savings_tip, anomaly, forecast
    category VARCHAR(50),

    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,

    priority VARCHAR(20) DEFAULT 'normal',  -- low, normal, high, urgent

    -- For actionable insights
    action_type VARCHAR(50),      -- view_transactions, set_budget, prepay_loan
    action_data JSONB,

    is_read BOOLEAN DEFAULT FALSE,
    is_dismissed BOOLEAN DEFAULT FALSE,
    is_acted_upon BOOLEAN DEFAULT FALSE,

    valid_until TIMESTAMP,        -- Insight expiry

    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_insights_user ON insights(user_id);
CREATE INDEX idx_insights_unread ON insights(user_id, is_read) WHERE is_read = FALSE;

-- =============================================
-- VOICE & OCR
-- =============================================

CREATE TABLE voice_entries (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    audio_url TEXT,
    transcript TEXT,

    parsed_data JSONB,            -- Extracted amount, category, etc.
    confidence_score DECIMAL(3, 2),

    transaction_id UUID REFERENCES transactions(id),

    status VARCHAR(20) DEFAULT 'pending',  -- pending, processed, failed
    error_message TEXT,

    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE receipt_scans (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    image_url TEXT NOT NULL,

    -- OCR Results
    raw_text TEXT,

    extracted_data JSONB,         -- merchant, amount, date, items, gst
    confidence_score DECIMAL(3, 2),

    transaction_id UUID REFERENCES transactions(id),

    status VARCHAR(20) DEFAULT 'pending',  -- pending, processed, failed
    error_message TEXT,

    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_voice_entries_user ON voice_entries(user_id);
CREATE INDEX idx_receipt_scans_user ON receipt_scans(user_id);

-- =============================================
-- BIOMETRIC & SECURITY
-- =============================================

ALTER TABLE users ADD COLUMN biometric_enabled BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN biometric_public_key TEXT;
ALTER TABLE users ADD COLUMN auto_lock_minutes INTEGER DEFAULT 5;
ALTER TABLE users ADD COLUMN last_activity_at TIMESTAMP;

CREATE TABLE device_registrations (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,

    device_id VARCHAR(255) NOT NULL,
    device_name VARCHAR(100),
    device_type VARCHAR(50),      -- ios, android, web

    biometric_key_id VARCHAR(255),
    push_token TEXT,

    last_used_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),

    UNIQUE(user_id, device_id)
);

CREATE TABLE login_attempts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),

    email VARCHAR(255),
    ip_address INET,
    user_agent TEXT,

    success BOOLEAN,
    failure_reason VARCHAR(100),

    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_device_registrations_user ON device_registrations(user_id);
CREATE INDEX idx_login_attempts_user ON login_attempts(user_id);
CREATE INDEX idx_login_attempts_email ON login_attempts(email);
```

---

## ğŸ”Œ API Architecture (Updated)

### New API Endpoints for v2.0

```
# FAMILY ENDPOINTS
GET    /family                     - Get user's family
POST   /family                     - Create family
PUT    /family                     - Update family settings
DELETE /family                     - Delete family (admin only)
POST   /family/invite              - Generate invite link
POST   /family/join                - Join family with invite code
GET    /family/members             - List family members
PUT    /family/members/:id         - Update member role/permissions
DELETE /family/members/:id         - Remove member
GET    /family/activity            - Get family activity feed
GET    /family/dashboard           - Get family financial summary

# INVESTMENT ENDPOINTS
GET    /investments                - List all investments
POST   /investments                - Add investment
GET    /investments/:id            - Get investment details
PUT    /investments/:id            - Update investment
DELETE /investments/:id            - Delete investment
POST   /investments/:id/transaction - Add buy/sell/dividend
GET    /investments/:id/transactions - Get investment transactions
GET    /investments/summary        - Get portfolio summary
GET    /investments/sync           - Sync prices from APIs
GET    /investments/tax-report     - Get tax-saving report (80C, 80D)

# AI INSIGHTS ENDPOINTS
GET    /insights                   - Get all insights
GET    /insights/dashboard         - Get top insights for dashboard
POST   /insights/:id/read          - Mark as read
POST   /insights/:id/dismiss       - Dismiss insight
POST   /insights/:id/action        - Take action on insight
POST   /insights/generate          - Trigger insight generation

# VOICE ENTRY ENDPOINTS
POST   /voice/transcribe           - Upload audio for transcription
POST   /voice/process              - Process transcribed text
GET    /voice/history              - Get voice entry history

# RECEIPT OCR ENDPOINTS
POST   /receipts/scan              - Upload receipt image
GET    /receipts/:id               - Get scan result
POST   /receipts/:id/confirm       - Confirm and create transaction
GET    /receipts/history           - Get scan history

# BIOMETRIC ENDPOINTS
POST   /auth/biometric/register    - Register biometric credential
POST   /auth/biometric/verify      - Verify biometric login
DELETE /auth/biometric             - Remove biometric
GET    /auth/devices               - List registered devices
DELETE /auth/devices/:id           - Remove device

# INDIA-SPECIFIC ENDPOINTS
GET    /ifsc/:code                 - Lookup IFSC code
GET    /tax/80c-summary            - Get 80C deduction summary
GET    /tax/report/:year           - Get tax summary report
GET    /upi/parse                  - Parse UPI transaction string
```

---

## ğŸ“± Screen Designs (Updated)

### Updated Navigation Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚                    SCREEN CONTENT                       â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   ğŸ         ğŸ“Š        â•        ğŸ’¹        â‰¡            â”‚
â”‚  Home     Stats      Add     Invest     More           â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Changes from v1:
- "Loans" tab â†’ Moved to More menu
- New "Invest" tab â†’ Investment portfolio
```

### New Screens for v2.0

| Section | Screen | Description |
|---------|--------|-------------|
| **Home** | AI Insights Card | Smart insights on dashboard |
| **Home** | Family Activity | Recent family transactions |
| **Add** | Voice Entry | Voice input for transactions |
| **Add** | Scan Receipt | Camera for OCR |
| **Invest** | Portfolio Dashboard | Investment overview |
| **Invest** | Holdings List | All investments |
| **Invest** | Add Investment | Add MF/Stock/FD |
| **Invest** | Investment Detail | Single investment view |
| **Invest** | Tax Savings | 80C/80D tracker |
| **More** | Family | Family management |
| **More** | Family Dashboard | Combined family view |
| **More** | Family Members | Manage members |
| **More** | AI Insights | All insights list |
| **More** | Security | Biometric & PIN settings |
| **Auth** | Biometric Login | Face ID / Fingerprint screen |
| **Auth** | PIN Entry | 4-6 digit PIN screen |

---

## ğŸš€ Development Phases (Updated)

### Updated Phase Overview

| Phase | Name | Duration | Priority | New in v2 |
|-------|------|----------|----------|-----------|
| 1 | Foundation & Core | 2-3 days | Critical | |
| 2 | Accounts & Transactions | 2-3 days | Critical | |
| 3 | Dashboard & UI Polish | 1-2 days | Critical | âœ… AI Insights UI |
| 4 | Budgets & Goals | 1-2 days | High | |
| 5 | Loans & EMI | 2 days | High | |
| 6 | **Investments & Tax** | **2-3 days** | **High** | âœ… **NEW** |
| 7 | Reports & Analytics | 1-2 days | High | |
| 8 | Bank Integration | 2-3 days | Medium | |
| 9 | **Multi-User & Family** | **2-3 days** | **High** | âœ… **NEW** |
| 10 | **Voice & OCR** | **2-3 days** | **Medium** | âœ… **NEW** |
| 11 | **AI Insights Engine** | **2-3 days** | **Medium** | âœ… **NEW** |
| 12 | Backend & Sync | 2-3 days | Medium | |
| 13 | **Biometric & Security** | **1-2 days** | **High** | âœ… **NEW** |
| 14 | **Self-Hosted Setup** | **1-2 days** | **Critical** | âœ… **NEW** |
| 15 | Polish & Deployment | 1-2 days | Critical | |

---

## âœ… Phase-wise Todo List (Updated)

### Phase 6: Investments & Tax (NEW)

```markdown
## 6.1 Investment Portfolio
- [ ] Build Investments tab/screen
- [ ] Create Portfolio Dashboard
- [ ] Show total invested vs current value
- [ ] Build portfolio allocation chart (pie/donut)
- [ ] Create returns calculation (absolute, %)
- [ ] Build XIRR calculator for MF

## 6.2 Holdings Management
- [ ] Build Holdings List screen
- [ ] Create Add Investment form
- [ ] Build investment type selector
- [ ] Create stock search (NSE/BSE symbols)
- [ ] Create mutual fund search (scheme codes)
- [ ] Build FD/RD entry form
- [ ] Create PPF/EPF tracking
- [ ] Build Investment Detail screen

## 6.3 Investment Transactions
- [ ] Build Buy transaction form
- [ ] Build Sell transaction form
- [ ] Create SIP tracking
- [ ] Build dividend entry
- [ ] Show transaction history
- [ ] Calculate average buy price

## 6.4 Price Sync
- [ ] Integrate mfapi.in for MF NAV
- [ ] Integrate stock price API
- [ ] Build manual price update
- [ ] Create auto-refresh schedule
- [ ] Show last updated timestamp

## 6.5 Tax Savings Tracker
- [ ] Build 80C Summary screen
- [ ] Show section-wise breakdown
- [ ] Track â‚¹1.5L limit utilization
- [ ] Build 80D health insurance tracker
- [ ] Create tax-saving recommendations
- [ ] Build annual tax report
```

### Phase 9: Multi-User & Family (NEW)

```markdown
## 9.1 Family Setup
- [ ] Build Create Family screen
- [ ] Create family name input
- [ ] Generate invite code
- [ ] Build Join Family screen
- [ ] Create invite code entry
- [ ] Show pending invites

## 9.2 Family Management
- [ ] Build Family Settings screen
- [ ] Create Member List
- [ ] Build role management (admin/member/viewer)
- [ ] Create permission toggles
- [ ] Build Remove Member flow
- [ ] Create Leave Family option

## 9.3 Shared Features
- [ ] Mark accounts as family-shared
- [ ] Show family account in list
- [ ] Build Family Budget
- [ ] Create family budget allocation
- [ ] Build Family Goals
- [ ] Create family goal contributions

## 9.4 Family Dashboard
- [ ] Build Family Dashboard screen
- [ ] Show combined family balance
- [ ] Create family spending breakdown
- [ ] Build member-wise spending
- [ ] Create Activity Feed
- [ ] Show who added what

## 9.5 Privacy Controls
- [ ] Build privacy settings
- [ ] Hide personal accounts from family
- [ ] Control transaction visibility
- [ ] Create "hidden mode" for sensitive transactions
```

### Phase 10: Voice & OCR (NEW)

```markdown
## 10.1 Voice Entry
- [ ] Build Voice Input button (FAB)
- [ ] Create voice recording UI
- [ ] Implement Web Speech API
- [ ] Build transcript display
- [ ] Create NLP parser for transactions
- [ ] Handle amount extraction (with lakh/crore)
- [ ] Handle category detection
- [ ] Build confirmation screen
- [ ] Show parsed transaction preview
- [ ] Implement edit before save
- [ ] Create voice command help

## 10.2 Receipt OCR
- [ ] Build Scan Receipt button
- [ ] Create camera capture UI
- [ ] Implement image cropping
- [ ] Build image enhancement
- [ ] Integrate Tesseract.js
- [ ] Create receipt parser
- [ ] Extract merchant name
- [ ] Extract amount
- [ ] Extract date
- [ ] Extract GST number (optional)
- [ ] Build confirmation screen
- [ ] Show extracted data preview
- [ ] Allow manual corrections
- [ ] Attach receipt to transaction

## 10.3 OCR Improvements
- [ ] Create merchant database
- [ ] Build merchant-to-category mapping
- [ ] Implement learning from corrections
- [ ] Support multiple receipt formats
- [ ] Build batch receipt scanning
```

### Phase 11: AI Insights Engine (NEW)

```markdown
## 11.1 Insights Generation
- [ ] Build insights engine service
- [ ] Create spending pattern analyzer
- [ ] Build anomaly detection
- [ ] Create savings opportunity finder
- [ ] Build bill prediction
- [ ] Create budget recommendations
- [ ] Build loan prepayment suggestions
- [ ] Create goal achievability analysis

## 11.2 Insights UI
- [ ] Build Insights card on Dashboard
- [ ] Create Insights List screen
- [ ] Build Insight Detail view
- [ ] Create actionable insight buttons
- [ ] Show related transactions
- [ ] Build insight categories
- [ ] Create dismiss/snooze actions

## 11.3 ML Integration (Optional)
- [ ] Set up TensorFlow.js
- [ ] Build spending prediction model
- [ ] Create category classification model
- [ ] Implement on-device inference
- [ ] Build model update mechanism

## 11.4 External AI (Optional)
- [ ] Integrate OpenAI API
- [ ] Create natural language insights
- [ ] Build conversational query ("Why did I overspend?")
- [ ] Implement rate limiting
- [ ] Add API key management
```

### Phase 13: Biometric & Security (NEW)

```markdown
## 13.1 Biometric Authentication
- [ ] Build Biometric Setup screen
- [ ] Implement Web Authentication API
- [ ] Create Face ID prompt (iOS)
- [ ] Create Touch ID prompt (iOS)
- [ ] Create Fingerprint prompt (Android)
- [ ] Store biometric credential
- [ ] Build Biometric Login screen
- [ ] Implement fallback to PIN

## 13.2 PIN Authentication
- [ ] Build Set PIN screen
- [ ] Create 4-6 digit PIN input
- [ ] Build PIN confirmation
- [ ] Create Change PIN flow
- [ ] Build PIN entry screen (on launch)
- [ ] Implement failed attempt tracking
- [ ] Create lockout after 5 failures
- [ ] Build forgot PIN flow

## 13.3 Auto-Lock
- [ ] Implement activity tracking
- [ ] Build auto-lock timer
- [ ] Create lock screen overlay
- [ ] Add "Lock Now" option
- [ ] Create background lock behavior

## 13.4 Device Management
- [ ] Build Devices List screen
- [ ] Show registered devices
- [ ] Create Remove Device option
- [ ] Build login notification
- [ ] Show last login info
```

### Phase 14: Self-Hosted Setup (NEW)

```markdown
## 14.1 Docker Configuration
- [ ] Create Dockerfile for frontend
- [ ] Create Dockerfile for backend
- [ ] Build docker-compose.yml
- [ ] Configure PostgreSQL container
- [ ] Configure Redis container
- [ ] Configure MinIO container
- [ ] Set up Docker volumes
- [ ] Create network configuration

## 14.2 Nginx & SSL
- [ ] Create Nginx configuration
- [ ] Set up reverse proxy rules
- [ ] Configure WebSocket support
- [ ] Create Certbot integration
- [ ] Build SSL auto-renewal

## 14.3 Installation Script
- [ ] Create install.sh script
- [ ] Check system requirements
- [ ] Install Docker if needed
- [ ] Clone repository
- [ ] Generate secrets
- [ ] Configure environment
- [ ] Start services
- [ ] Run health checks

## 14.4 Backup & Maintenance
- [ ] Create backup script
- [ ] Schedule daily backups
- [ ] Build restore script
- [ ] Create update script
- [ ] Build health monitoring
- [ ] Create status dashboard

## 14.5 Documentation
- [ ] Write installation guide
- [ ] Create upgrade guide
- [ ] Document backup procedures
- [ ] Write troubleshooting guide
- [ ] Create video tutorial
```

---

## ğŸ–¥ï¸ Deployment Guide (Self-Hosted)

### System Requirements

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| OS | Ubuntu 20.04 LTS | Ubuntu 22.04 LTS |
| CPU | 2 cores | 4 cores |
| RAM | 2 GB | 4 GB |
| Storage | 20 GB | 50 GB |
| Network | Static IP | Static IP + Domain |

### Quick Install

```bash
# One-line installation
curl -sSL https://fintrace.in/install.sh | bash

# Or manual installation
git clone https://github.com/yourusername/fintrace.git
cd fintrace
./scripts/install.sh
```

### Docker Compose Structure

```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    environment:
      - VITE_API_URL=http://backend:4000
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "4000:4000"
    environment:
      - DATABASE_URL=postgresql://user:pass@postgres:5432/fintrace
      - REDIS_URL=redis://redis:6379
      - MINIO_ENDPOINT=minio:9000
    depends_on:
      - postgres
      - redis
      - minio

  postgres:
    image: postgres:16-alpine
    volumes:
      - postgres_data:/var/lib/postgresql/data
    environment:
      - POSTGRES_USER=fintrace
      - POSTGRES_PASSWORD=${DB_PASSWORD}
      - POSTGRES_DB=fintrace

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

  minio:
    image: minio/minio
    volumes:
      - minio_data:/data
    environment:
      - MINIO_ROOT_USER=${MINIO_USER}
      - MINIO_ROOT_PASSWORD=${MINIO_PASSWORD}
    command: server /data --console-address ":9001"

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./certbot/conf:/etc/letsencrypt
      - ./certbot/www:/var/www/certbot
    depends_on:
      - frontend
      - backend

volumes:
  postgres_data:
  redis_data:
  minio_data:
```

### Environment Variables

```bash
# .env file
# Database
DB_PASSWORD=your_secure_password

# JWT
JWT_SECRET=your_jwt_secret_key
JWT_REFRESH_SECRET=your_refresh_secret

# MinIO (File Storage)
MINIO_USER=fintrace
MINIO_PASSWORD=your_minio_password

# Domain
DOMAIN=fintrace.yourdomain.com
EMAIL=your@email.com  # For SSL certificates

# Optional: AI Features
OPENAI_API_KEY=sk-xxxx
GOOGLE_VISION_API_KEY=xxxx

# Optional: Account Aggregator
SETU_CLIENT_ID=xxxx
SETU_CLIENT_SECRET=xxxx
```

---

## ğŸ“Š Milestones & Deliverables (Updated)

| Milestone | Deliverable | Success Criteria |
|-----------|-------------|------------------|
| M1 | PWA Foundation | Installable on iOS, offline shell |
| M2 | Core Transactions | Add/edit/delete transactions |
| M3 | Dashboard | Beautiful home with all widgets |
| M4 | Budget & Goals | Budget tracking, goal progress |
| M5 | Loan Management | EMI tracking with calculators |
| **M6** | **Investment Portfolio** | **Track MF, stocks, FD, tax savings** |
| M7 | Reports | Charts and analytics |
| M8 | Bank Import | PDF/CSV import working |
| **M9** | **Multi-User Family** | **Family creation, sharing, dashboard** |
| **M10** | **Voice & OCR** | **Voice entry + receipt scanning** |
| **M11** | **AI Insights** | **Smart recommendations working** |
| **M12** | **Biometric Auth** | **Face ID / Fingerprint login** |
| **M13** | **Self-Hosted Deploy** | **One-click Ubuntu installation** |
| M14 | Production Ready | All features, polished UI |

---

## ğŸ” Security Considerations (Updated)

### Authentication Layers

```
Layer 1: Server Authentication
â”œâ”€â”€ Email + Password (Argon2 hashed)
â”œâ”€â”€ JWT Access Token (15 min expiry)
â””â”€â”€ Refresh Token (7 days, rotated)

Layer 2: App Lock
â”œâ”€â”€ Biometric (Face ID / Fingerprint)
â”œâ”€â”€ PIN (4-6 digits)
â””â”€â”€ Auto-lock after inactivity

Layer 3: Sensitive Actions
â”œâ”€â”€ Re-authenticate for:
â”‚   â”œâ”€â”€ Changing password
â”‚   â”œâ”€â”€ Adding bank connection
â”‚   â”œâ”€â”€ Deleting account
â”‚   â””â”€â”€ Export data
â””â”€â”€ OTP for high-value changes
```

### Data Security

1. **At Rest**
   - PostgreSQL encryption
   - Encrypted backups
   - Secure file storage (MinIO with encryption)

2. **In Transit**
   - HTTPS everywhere
   - TLS 1.3
   - Certificate pinning (mobile)

3. **Privacy**
   - Self-hosted = your data stays with you
   - No telemetry/analytics to third parties
   - User can export & delete all data

---

## ğŸ’¡ Future Enhancements (Post-MVP)

### Already Included in v2.0:
- âœ… Investment Tracking
- âœ… Family Sharing
- âœ… AI Insights
- âœ… Voice Entry
- âœ… Receipt OCR

### Future Roadmap:
1. **Bill Splitting** - Split with friends (not just family)
2. **Widget Support** - iOS/Android home screen widgets
3. **Apple Watch** - Quick expense entry
4. **Credit Score** - Track and improve credit score
5. **Tax Filing** - Generate ITR-ready reports
6. **Insurance Tracker** - Policy management
7. **Subscription Manager** - Track recurring subscriptions
8. **Net Banking Integration** - Direct bank sync (beyond AA)
9. **WhatsApp Bot** - Add expenses via WhatsApp
10. **Telegram Bot** - Expense tracking bot

---

## ğŸ“ Notes & Decisions

### Why These Choices?

| Decision | Reasoning |
|----------|-----------|
| **Self-hosted over Cloud** | Privacy-first, user owns data |
| **Docker Compose** | Easy deployment, reproducible |
| **MinIO over S3** | Self-hosted S3-compatible storage |
| **Tesseract.js** | Free, runs in browser, no API costs |
| **Web Speech API** | Native browser support, no cost |
| **PostgreSQL** | ACID compliance for financial data |
| **Fastify** | 2x faster than Express |
| **React PWA** | Works on iOS, Android, Web from one codebase |

---

## âœï¸ Sign-Off

**App Name:** FinTrace
**Domain:** fintrace.in
**Prepared by:** AI Assistant
**Date:** February 6, 2026
**Version:** 2.0
**Status:** Ready for Development

---

## âœ… Final Checklist

- [x] App name finalized: **FinTrace**
- [x] Domain identified: **fintrace.in**
- [x] Multi-user support: **Yes (Family)**
- [x] Self-hosted: **Ubuntu with Docker**
- [x] Biometric auth: **Face ID / Fingerprint**
- [x] Family tracking: **Shared accounts, budgets, goals**
- [x] AI insights: **Spending patterns, recommendations**
- [x] Investment tracking: **MF, Stocks, FD, PPF, NPS**
- [x] Voice entry: **Web Speech API**
- [x] Receipt OCR: **Tesseract.js**
- [x] India-tailored: **UPI, 80C, GST, Indian banks**
- [x] Tech stack: **React + Fastify + PostgreSQL**
- [x] Phases defined: **15 phases with detailed todos**

---

**Ready to start development?**

Confirm and I'll begin with **Phase 1: Foundation & Core Setup**! ğŸš€
